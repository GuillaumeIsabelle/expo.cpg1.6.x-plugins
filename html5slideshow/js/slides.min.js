(function(){var b={vendorID:"w3",browserPrefix:"",reqFull:"requestFullScreen",canFull:"cancelFullScreen"};-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?(b.vendorID="ie",b.browserPrefix="ms"):-1<navigator.userAgent.indexOf("WebKit")?(b.vendorID="wk",b.browserPrefix="webkit"):-1<navigator.userAgent.indexOf("Gecko")?(b.vendorID="ff",b.browserPrefix="moz"):-1<navigator.userAgent.indexOf("Opera")?(b.vendorID="op",b.browserPrefix="o"):-1<navigator.userAgent.indexOf("KHTML")&&
(b.vendorID="kd",b.browserPrefix="khtml");window.vendorQuirk=b})();
(function(){var b={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};"undefined"!=typeof document.cancelFullScreen?b.supportsFullScreen=!0:"undefined"!=typeof document[vendorQuirk.browserPrefix+"CancelFullScreen"]&&(b.supportsFullScreen=!0,b.prefix=vendorQuirk.browserPrefix);b.supportsFullScreen&&(b.fullScreenEventName=b.prefix+"fullscreenchange",b.isFullScreen=function(){switch(this.prefix){case "":return document.fullScreen;
case "webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},b.requestFullScreen=function(b){return""===this.prefix?b.requestFullScreen():b[this.prefix+"RequestFullScreen"]()},b.cancelFullScreen=function(){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()});window.fullScreenApi=b})();function $id(b){return document.getElementById(b)}
var ssCtl=function(){function b(a){return 0>a?(a=-1*a%m,m-a):a%m}function t(a,c,b){a.eMsg=null;"ff"==vendorQuirk.vendorID&&(a.src="",a.completed=!1);"i"==imagelist[c].mTyp?(a.ism=!1,a.src=imagelist[c].fpath):(a.ism=!0,a.src="plugins/html5slideshow/css/blank.png");a.slidnum=c;a.isSized=!1;trzn.preS(a,b)}function J(a){a.className=w;y.innerHTML=a.slidnum+1;n.innerHTML=imagelist[a.slidnum].title;a.eMsg&&(n.innerHTML+=a.eMsg);r&&!z&&(h=setTimeout(function(){e(1)},p))}function K(){trzn.pull(f[g],!0);var a=
f.shift(),c=b(k+q);trzn.getI(a,c,!1);k=(k+1)%m;f.push(a)}function L(){trzn.pull(f[g],!1);var a=f.pop(),c=b(k-1);trzn.getI(a,c,!0);k=c;f.unshift(a)}function e(a){_vElm.pause();_vElm.style.display="none";if(!d.repeat&&1==a&&k+g+1==m)return d.doMnu(0),!1;1<f.length&&(0<a?K():0>a&&L());var c=f[g];0!==a&&(n.innerHTML="");c.ism?(_vElm.src=imagelist[c.slidnum].fpath,y.innerHTML=c.slidnum+1):F(c,function(){J(c)});return!0}function G(){A.style.backgroundPosition="-54px 0";h&&(clearTimeout(h),h=null);r=!1;
r=!0;e(0)}function u(){A.style.backgroundPosition="-72px 0";h&&(clearTimeout(h),h=null);r=!1}function B(){var a,c=f.length;for(a=0;a<c;a++)l(f[a],null)}function l(a,c){if(a.complete){var b=window.innerHeight,d=window.innerWidth,f=a.naturalWidth,g=a.naturalHeight;b-=24;if(0<f&&0<g){var e=g>b?b:g;b=Math.round(f*e/g);b>d&&(b=d,e=Math.round(g*b/f));a.height=e;a.width=b;a.isSized=!0}c&&c()}else setTimeout(function(){l(a,c)},100)}function F(a,c){if(a.isSized){C.style.display="none";var b=window.innerWidth,
d=a.width;a.style.left=d<b?Math.floor((b-d)/2)+"px":"0px";c&&c()}else C.style.display="block",setTimeout(function(){F(a,c)},100)}function D(a){var c;k=b(a-g);var d=q-g;for(c=0;c<d;c++){var e=b(c+a);t(f[c+g],e,!1)}for(c=0;c<g;c++)e=b(a-g+c),t(f[c],e,!0)}function H(a,c){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();switch(c){case 32:d.doMnu(3);break;case 37:d.doMnu(2);break;case 39:d.doMnu(4);break;case 27:d.doMnu(0);break;case 91:d.doMnu(1);break;case 93:d.doMnu(5);break;
case 9:case 13:d.doMnu(6)}}function M(){E&&clearTimeout(E);E=setTimeout(function(){z=!0;trzn.resz();e(0);z=!1},200)}function I(){$id("seconds").innerHTML=Math.round(p/1E3)}function N(){this.eMsg='<p class="errMsg">'+imgerror+this.src+"</p>";this.src="plugins/html5slideshow/css/broken.png"}function O(a){n.innerHTML+='<p class="errMsg">'+viderror+this.src+"</p>";r&&(h=setTimeout(function(){e(1)},p))}var d={autoPlay:!0,slideDur:7E3,trnType:"d",repeat:!1},m=0,q=5,g=2,k=0,f=[],x,w,p=7E3,h=null,r=!1,v=
null,y=null,n=null,A=null,C,E=null,z=!1,P={preS:function(a){l(a,null)},pull:function(a,c){a.className="islide img_hide"},getI:function(a,c,b){t(a,c,b)},resz:function(){B()}},Q={preS:function(a){l(a,null)},pull:function(a,c){a.className="islide img_off"},getI:function(a,c,b){t(a,c,b)},resz:function(){B()}},R={preS:function(a,c){c?l(a,function(){a.style.left=-(a.width+2)+"px"}):l(a,function(){a.style.left=window.innerWidth+2+"px"})},pull:function(a,c){a.style.left=c?-(a.width+2)+"px":window.innerWidth+
2+"px"},getI:function(a,c,b){a.className="islide";t(a,c,b)},resz:function(){var a=q-g,c;B();for(c=0;c<a;c++){var b=f[c+g];b.style.left=window.innerWidth+2+"px"}for(c=0;c<g;c++)b=f[c],b.style.left=-(b.width+2)+"px"}};d.doMnu=function(a){switch(a){case 0:popdwin?window.close():window.history.back();break;case 1:u();D(0);e(0);break;case 2:u();e(-1);break;case 3:h?u():G();break;case 4:u();e(1);break;case 5:u();D(m-1);e(0);break;case 6:a=$id("cb_full"),v.isFullScreen()?(v.cancelFullScreen(),a.style.backgroundPosition=
"-126px 0"):v.supportsFullScreen&&(v.requestFullScreen(document.body),a.style.backgroundPosition="-144px 0")}};d.sdur=function(a){a?p+=1E3:3E3<p&&(p-=1E3);I()};d.init=function(a){var c,b=$id("screen"),h,k;trzn=P;w="islide img_show";x="islide img_hide";switch(this.trnType){case "d":trzn=Q;w="islide img_on";x="islide img_off";break;case "s":trzn=R,w="islide img_slin",x="islide"}m=imagelist.length;m<q&&(q=m);for(c=0;c<q;c++){var l=document.createElement("IMG");l.onerror=N;l.style.left=window.innerWidth+
2+"px";l.className=x;f.push(l);b.appendChild(l)}_vElm=document.createElement("VIDEO");_vElm.style.display="none";_vElm.onerror=O;_vElm.className="medsld";_vElm.id="medsld";_vElm.controls=!0;_vElm.onended=function(){r&&e(1)};_vElm.oncanplay=function(){this.style.display="block";this.play()};b.appendChild(_vElm);g=Math.floor(q/2);v=a;y=$id("slidnum");n=$id("ptext");A=$id("cb_paus");C=$id("loading");p=this.slideDur;I();D(0);this.autoPlay?G():e(0);window.onresize=M;$("#screen").swipe({swipeStatus:function(a,
c,b,e){"start"==c&&(h=f[g],k=parseFloat(h.style.left));"move"==c&&"s"==d.trnType&&("left"==b?h.style.left=k-e+"px":"right"==b&&(h.style.left=k+e+"px"));"end"==c&&("left"==b?d.doMnu(4):"right"==b?d.doMnu(2):"up"==b?d.doMnu(1):"down"==b&&d.doMnu(5));"cancel"==c&&(h.style.left=k+"px")},triggerOnTouchEnd:!1,threshold:90})};document.addEventListener("keypress",function(a){switch(a.charCode){case 32:case 91:case 93:case 13:H(a,a.charCode)}},!1);document.addEventListener("keydown",function(a){switch(a.keyCode){case 37:case 39:case 27:case 9:H(a,
a.keyCode)}},!1);return d}();window.onload=function(){ssCtl.init(fullScreenApi)};